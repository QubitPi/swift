
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Access Control Lists (ACLs) &#8212; Swift 0.1.0.dev10161 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/basic.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="canonical" href="/openstack-swift/overview_acl.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Replication" href="overview_replication.html" />
    <link rel="prev" title="The Auth System" href="overview_auth.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">

<!-- Search CSS -->
<link href="_static/css/search.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/pygments.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>

<!-- SOURCE_FILE: https://opendev.org/openstack/swift/src/doc/source/overview_acl.rst -->

<script>
    (function (window, document) {
        var loader = function () {
            var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
            script.src = "https://search.openstack.org/widget/embed.min.js?t="+Date.now();
            tag.parentNode.insertBefore(script, tag);
        };
        window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
    })(window, document);
</script>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</div>
      <ul class="nav navbar-nav navbar-main show">
        <li class="search-container-mobile">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</li>
        <li> <!--Software -->
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/openstack-components">OpenStack Components</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/sdks">SDKs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/deployment-tools">Deployment Tools</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/assets/software/projectmap/openstack-map.pdf" target="_blank">OpenStack Map</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
          </ul>
        </li>
        <li> <!-- Use Cases -->
          <a href="https://www.openstack.org/use-cases/" class="drop" id="dropdownMenuUsers">Use Cases <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/">Users in Production</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/bare-metal/">Ironic Bare Metal</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/edge-computing/">Edge Computing</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/telecoms-and-nfv/">Telecom & NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/science/">Science and HPC</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/containers/">Containers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/enterprise/">Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li> <!-- Events -->
          <a href="https://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">Open Infrastructure Summits</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/ptg/">Project Teams Gathering</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/opendev-2020/">OpenDev</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/community-events/">Community Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/openstackdays">OpenStack & OpenInfra Days</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
          </ul>
        </li>
        <li><!-- Community -->
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/tech-committee">OpenStack Technical Committee</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/coa/">Get Certified (COA)</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketing/">Marketing Resources</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">Community News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/supporting-organizations/">OpenInfra Foundation Supporting Organizations</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">Open Infrastructure Foundation (OpenInfra Foundation)</a></li>
          </ul>
        </li>
        <li><!-- Marketplace -->
          <a href="https://www.openstack.orgmarketplace/" class="drop" id="dropdownMenuLearn">Marketplace <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/distros/">Distros & Appliances</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/public-clouds/">Public Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/hosted-private-clouds/">Hosted Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/remotely-managed-private-clouds/">Remotely Managed Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/consulting/">Consulting & Integrators</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/drivers/">Drivers</a></li>
          </ul>
        </li>
        <li><!-- Blog -->
          <a href="https://www.openstack.org/blog/">Blog</a>
        </li>
        <li><!-- Docs -->
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
        <li> <!-- Join -->
            <li class="join-nav-section">
              <a href="https://openinfra.dev/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
              <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sign up for Foundation Membership</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sponsor the Foundation</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">More about the Foundation</a></li>
              </ul>
            </li>
            <li>
              <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
            </li>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>

    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row docs-title">
  <div class="col-lg-8">
      <h1>Access Control Lists (ACLs)</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="overview_auth.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: The Auth System"></i></a>
    
    
    <a href="overview_replication.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Replication"></i></a>
    
    <a id="pdfLink1" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-body" role="main">

  <section id="access-control-lists-acls">
<h1>Access Control Lists (ACLs)<a class="headerlink" href="#access-control-lists-acls" title="Permalink to this heading">¶</a></h1>
<p>Normally to create, read and modify containers and objects, you must have the
appropriate roles on the project associated with the account, i.e., you
must be the owner of the account. However, an owner can grant access to
other users by using an Access Control List (ACL).</p>
<p>There are two types of ACLs:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#container-acls"><span class="std std-ref">Container ACLs</span></a>. These are specified on a container and
apply to that container only and the objects in the container.</p></li>
<li><p><a class="reference internal" href="#account-acls"><span class="std std-ref">Account ACLs</span></a>. These are specified at the account level and
apply to all containers and objects in the account.</p></li>
</ul>
<section id="container-acls">
<span id="id1"></span><h2>Container ACLs<a class="headerlink" href="#container-acls" title="Permalink to this heading">¶</a></h2>
<p>Container ACLs are stored in the <code class="docutils literal notranslate"><span class="pre">X-Container-Write</span></code> and <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>
metadata. The scope of the ACL is limited to the container where the
metadata is set and the objects in the container. In addition:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X-Container-Write</span></code> grants the ability to perform PUT, POST and DELETE
operations on objects within a container. It does not grant the ability
to perform POST or DELETE operations on the container itself. Some ACL
elements also grant the ability to perform HEAD or GET operations on the
container.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code> grants the ability to perform GET and HEAD
operations on objects within a container. Some of the ACL elements also grant
the ability to perform HEAD or GET operations on the container itself.
However, a container ACL does not allow access to privileged metadata (such
as <code class="docutils literal notranslate"><span class="pre">X-Container-Sync-Key</span></code>).</p></li>
</ul>
<p>Container ACLs use the “V1” ACL syntax which is a comma separated string
of elements as shown in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">r</span><span class="p">:</span><span class="o">*</span><span class="p">,</span><span class="o">.</span><span class="n">rlistings</span><span class="p">,</span><span class="mi">7</span><span class="n">ec59e87c6584c348b563254aae4c221</span><span class="p">:</span><span class="o">*</span>
</pre></div>
</div>
<p>Spaces may occur between elements as shown in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">r</span> <span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="o">.</span><span class="n">rlistings</span><span class="p">,</span> <span class="mi">7</span><span class="n">ec59e87c6584c348b563254aae4c221</span><span class="p">:</span><span class="o">*</span>
</pre></div>
</div>
<p>However, these spaces are removed from the value stored in the
<code class="docutils literal notranslate"><span class="pre">X-Container-Write</span></code> and <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code> metadata. In addition,
the <code class="docutils literal notranslate"><span class="pre">.r:</span></code> string can be written as <code class="docutils literal notranslate"><span class="pre">.referrer:</span></code>, but is stored as <code class="docutils literal notranslate"><span class="pre">.r:</span></code>.</p>
<p>While all auth systems use
the same syntax, the meaning of some elements
is different because of the different concepts used by different
auth systems as explained in the following sections:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#acl-common-elements"><span class="std std-ref">Common ACL Elements</span></a></p></li>
<li><p><a class="reference internal" href="#acl-keystone-elements"><span class="std std-ref">Keystone Auth ACL Elements</span></a></p></li>
<li><p><a class="reference internal" href="#acl-tempauth-elements"><span class="std std-ref">TempAuth ACL Elements</span></a></p></li>
</ul>
<section id="common-acl-elements">
<span id="acl-common-elements"></span><h3>Common ACL Elements<a class="headerlink" href="#common-acl-elements" title="Permalink to this heading">¶</a></h3>
<p>The following table describes elements of an ACL that are
supported by both Keystone auth and TempAuth. These elements
should only be used with <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code> (with the exception
of <code class="docutils literal notranslate"><span class="pre">.rlistings</span></code>, an error will occur if used with
<code class="docutils literal notranslate"><span class="pre">X-Container-Write</span></code>):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.r:*</p></td>
<td><p>Any user has access to objects. No token is
required in the request.</p></td>
</tr>
<tr class="row-odd"><td><p>.r:&lt;referrer&gt;</p></td>
<td><p>The referrer is granted access to objects. The
referrer is identified by the <code class="docutils literal notranslate"><span class="pre">Referer</span></code>
request header in the request. No token is
required.</p></td>
</tr>
<tr class="row-even"><td><p>.r:-&lt;referrer&gt;</p></td>
<td><p>This syntax (with “-” prepended to the
referrer) is supported. However, it does not
deny access if another element (e.g., <code class="docutils literal notranslate"><span class="pre">.r:*</span></code>)
grants access.</p></td>
</tr>
<tr class="row-odd"><td><p>.rlistings</p></td>
<td><p>Any user can perform a HEAD or GET operation
on the container provided the user also has
read access on objects (e.g., also has <code class="docutils literal notranslate"><span class="pre">.r:*</span></code>
or <code class="docutils literal notranslate"><span class="pre">.r:&lt;referrer&gt;</span></code>. No token is required.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keystone-auth-acl-elements">
<span id="acl-keystone-elements"></span><h3>Keystone Auth ACL Elements<a class="headerlink" href="#keystone-auth-acl-elements" title="Permalink to this heading">¶</a></h3>
<p>The following table describes elements of an ACL that are
supported only by Keystone auth. Keystone auth also supports
the elements described in <a class="reference internal" href="#acl-common-elements"><span class="std std-ref">Common ACL Elements</span></a>.</p>
<p>A token must be included in the request for any of these ACL elements
to take effect.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;project-id&gt;:&lt;user-id&gt;</p></td>
<td><p>The specified user, provided a token
scoped to the project is included
in the request, is granted access.
Access to the container is also granted
when used in <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;project-id&gt;:*</p></td>
<td><p>Any user with a role in the specified Keystone
project has access. A token scoped to the
project must be included in the request.
Access to the container is also granted
when used in <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>*:&lt;user-id&gt;</p></td>
<td><p>The specified user has access. A token
for the user (scoped to any
project) must be included in the request.
Access to the container is also granted
when used in <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>*:*</p></td>
<td><p>Any user has access.
Access to the container is also granted
when used in <code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>.
The <code class="docutils literal notranslate"><span class="pre">*:*</span></code> element differs from the <code class="docutils literal notranslate"><span class="pre">.r:*</span></code>
element because
<code class="docutils literal notranslate"><span class="pre">*:*</span></code> requires that a valid token is
included in the request whereas <code class="docutils literal notranslate"><span class="pre">.r:*</span></code>
does not require a token. In addition,
<code class="docutils literal notranslate"><span class="pre">.r:*</span></code> does not grant access to the
container listing.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;role_name&gt;</p></td>
<td><p>A user with the specified role <em>name</em> on the
project within which the container is stored is
granted access. A user token scoped to the
project must be included in the request. Access
to the container is also granted when used in
<code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keystone project (tenant) or user <em>names</em> (i.e.,
<code class="docutils literal notranslate"><span class="pre">&lt;project-name&gt;:&lt;user-name&gt;</span></code>) must no longer be
used because with the introduction
of domains in Keystone, names are not globally unique. You should
use user and project <em>ids</em> instead.</p>
<p>For backwards compatibility, ACLs using names will be granted by
keystoneauth when it can be established that
the grantee project, the grantee user and the project being
accessed are either not yet in a domain (e.g. the <code class="docutils literal notranslate"><span class="pre">X-Auth-Token</span></code> has
been obtained via the Keystone V2 API) or are all in the default domain
to which legacy accounts would have been migrated.</p>
</div>
</section>
<section id="tempauth-acl-elements">
<span id="acl-tempauth-elements"></span><h3>TempAuth ACL Elements<a class="headerlink" href="#tempauth-acl-elements" title="Permalink to this heading">¶</a></h3>
<p>The following table describes elements of an ACL that are
supported only by TempAuth. TempAuth auth also supports
the elements described in <a class="reference internal" href="#acl-common-elements"><span class="std std-ref">Common ACL Elements</span></a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;user-name&gt;</p></td>
<td><p>The named user is granted access. The
wildcard (“*”) character is not supported.
A token from the user must be included in the
request.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="container-acl-examples">
<h2>Container ACL Examples<a class="headerlink" href="#container-acl-examples" title="Permalink to this heading">¶</a></h2>
<p>Container ACLs may be set by including <code class="docutils literal notranslate"><span class="pre">X-Container-Write</span></code> and/or
<code class="docutils literal notranslate"><span class="pre">X-Container-Read</span></code> headers with a PUT or a POST request to the container URL.
The following examples use the <code class="docutils literal notranslate"><span class="pre">swift</span></code> command line client which support
these headers being set via its <code class="docutils literal notranslate"><span class="pre">--write-acl</span></code> and <code class="docutils literal notranslate"><span class="pre">--read-acl</span></code> options.</p>
<section id="example-public-container">
<h3>Example: Public Container<a class="headerlink" href="#example-public-container" title="Permalink to this heading">¶</a></h3>
<p>The following allows anybody to list objects in the <code class="docutils literal notranslate"><span class="pre">www</span></code> container and
download objects. The users do not need to include a token in
their request. This ACL is commonly referred to as making the
container “public”. It is useful when used with <a class="reference internal" href="middleware.html#staticweb"><span class="std std-ref">StaticWeb</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swift</span> <span class="n">post</span> <span class="n">www</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;.r:*,.rlistings&quot;</span>
</pre></div>
</div>
</section>
<section id="example-shared-writable-container">
<h3>Example: Shared Writable Container<a class="headerlink" href="#example-shared-writable-container" title="Permalink to this heading">¶</a></h3>
<p>The following allows anybody to upload or download objects. However, to
download an object, the exact name of the object must be known since
users cannot list the objects in the container.
The users must include a Keystone token in the upload request. However, it does not
need to be scoped to the project associated with the container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swift</span> <span class="n">post</span> <span class="n">www</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;.r:*&quot;</span> <span class="o">--</span><span class="n">write</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;*:*&quot;</span>
</pre></div>
</div>
</section>
<section id="example-sharing-a-container-with-project-members">
<h3>Example: Sharing a Container with Project Members<a class="headerlink" href="#example-sharing-a-container-with-project-members" title="Permalink to this heading">¶</a></h3>
<p>The following allows any member of the <code class="docutils literal notranslate"><span class="pre">77b8f82565f14814bece56e50c4c240f</span></code>
project to upload and download objects or to list the contents
of the <code class="docutils literal notranslate"><span class="pre">www</span></code> container. A token scoped to the <code class="docutils literal notranslate"><span class="pre">77b8f82565f14814bece56e50c4c240f</span></code>
project must be included in the request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swift</span> <span class="n">post</span> <span class="n">www</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;77b8f82565f14814bece56e50c4c240f:*&quot;</span> \
               <span class="o">--</span><span class="n">write</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;77b8f82565f14814bece56e50c4c240f:*&quot;</span>
</pre></div>
</div>
</section>
<section id="example-sharing-a-container-with-users-having-a-specified-role">
<h3>Example: Sharing a Container with Users having a specified Role<a class="headerlink" href="#example-sharing-a-container-with-users-having-a-specified-role" title="Permalink to this heading">¶</a></h3>
<p>The following allows any user that has been assigned the
<code class="docutils literal notranslate"><span class="pre">my_read_access_role</span></code> on the project within which the <code class="docutils literal notranslate"><span class="pre">www</span></code> container is
stored to download objects or to list the contents of the <code class="docutils literal notranslate"><span class="pre">www</span></code> container. A
user token scoped to the project must be included in the download or list
request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swift</span> <span class="n">post</span> <span class="n">www</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;my_read_access_role&quot;</span>
</pre></div>
</div>
</section>
<section id="example-allowing-a-referrer-domain-to-download-objects">
<h3>Example: Allowing a Referrer Domain to Download Objects<a class="headerlink" href="#example-allowing-a-referrer-domain-to-download-objects" title="Permalink to this heading">¶</a></h3>
<p>The following allows any request from
the <code class="docutils literal notranslate"><span class="pre">example.com</span></code> domain to access an object in the container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swift</span> <span class="n">post</span> <span class="n">www</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;.r:.example.com&quot;</span>
</pre></div>
</div>
<p>However, the request from the user <strong>must</strong> contain the appropriate
<cite>Referer</cite> header as shown in this example request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>curl -i $publicURL/www/document --head -H &quot;Referer: http://www.example.com/index.html&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>Referer</cite> header is included in requests by many browsers. However,
since it is easy to create a request with any desired value in the
<cite>Referer</cite> header, the referrer ACL has very weak security.</p>
</div>
</section>
<section id="example-sharing-a-container-with-another-user">
<h3>Example: Sharing a Container with Another User<a class="headerlink" href="#example-sharing-a-container-with-another-user" title="Permalink to this heading">¶</a></h3>
<p>Sharing a Container with another user requires the knowledge of few
parameters regarding the users.</p>
<p>The sharing user must know:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">OpenStack</span> <span class="pre">user</span> <span class="pre">id</span></code> of the other user</p></li>
</ul>
<p>The sharing user must communicate to the other user:</p>
<ul class="simple">
<li><p>the name of the shared container</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">OS_STORAGE_URL</span></code></p></li>
</ul>
<p>Usually the <code class="docutils literal notranslate"><span class="pre">OS_STORAGE_URL</span></code> is not exposed directly to the user
because the <code class="docutils literal notranslate"><span class="pre">swift</span> <span class="pre">client</span></code> by default automatically construct the
<code class="docutils literal notranslate"><span class="pre">OS_STORAGE_URL</span></code> based on the User credential.</p>
<p>We assume that in the current directory there are the two client
environment script for the two users <code class="docutils literal notranslate"><span class="pre">sharing.openrc</span></code> and
<code class="docutils literal notranslate"><span class="pre">other.openrc</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sharing.openrc</span></code> should be similar to the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">OS_USERNAME</span><span class="o">=</span>sharing
<span class="c1"># WARNING: Save the password in clear text only for testing purposes</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_PASSWORD</span><span class="o">=</span>password
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_TENANT_NAME</span><span class="o">=</span>projectName
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_AUTH_URL</span><span class="o">=</span>https://identityHost:portNumber/v2.0
<span class="c1"># The following lines can be omitted</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_TENANT_ID</span><span class="o">=</span>tenantIDString
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_REGION_NAME</span><span class="o">=</span>regionName
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_CACERT</span><span class="o">=</span>/path/to/cacertFile
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">other.openrc</span></code> should be similar to the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">OS_USERNAME</span><span class="o">=</span>other
<span class="c1"># WARNING: Save the password in clear text only for testing purposes</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_PASSWORD</span><span class="o">=</span>otherPassword
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_TENANT_NAME</span><span class="o">=</span>otherProjectName
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_AUTH_URL</span><span class="o">=</span>https://identityHost:portNumber/v2.0
<span class="c1"># The following lines can be omitted</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_TENANT_ID</span><span class="o">=</span>tenantIDString
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_REGION_NAME</span><span class="o">=</span>regionName
<span class="nb">export</span><span class="w"> </span><span class="nv">OS_CACERT</span><span class="o">=</span>/path/to/cacertFile
</pre></div>
</div>
<p>For more information see <a class="reference external" href="https://docs.openstack.org/user-guide/common/cli-set-environment-variables-using-openstack-rc.html">using the OpenStack RC file</a></p>
<p>First we figure out the other user id:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>. other.openrc
OUID=&quot;$(openstack user show --format json &quot;${OS_USERNAME}&quot; | jq -r .id)&quot;
</pre></div>
</div>
<p>or alternatively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span> <span class="n">other</span><span class="o">.</span><span class="n">openrc</span>
<span class="n">OUID</span><span class="o">=</span><span class="s2">&quot;$(openstack token issue -f json | jq -r .user_id)&quot;</span>
</pre></div>
</div>
<p>Then we figure out the storage url of the sharing user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sharing</span><span class="o">.</span><span class="n">openrc</span>
<span class="n">SURL</span><span class="o">=</span><span class="s2">&quot;$(swift auth | awk -F = &#39;/OS_STORAGE_URL/ {print $2}&#39;)&quot;</span>
</pre></div>
</div>
<p>Running as the sharing user create a shared container named <code class="docutils literal notranslate"><span class="pre">shared</span></code>
in read-only mode with the other user using the proper acl:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sharing</span><span class="o">.</span><span class="n">openrc</span>
<span class="n">swift</span> <span class="n">post</span> <span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">acl</span> <span class="s2">&quot;*:$</span><span class="si">{OUID}</span><span class="s2">&quot;</span> <span class="n">shared</span>
</pre></div>
</div>
<p>Running as the sharing user create and upload a test file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">touch</span> <span class="n">void</span>
<span class="n">swift</span> <span class="n">upload</span> <span class="n">shared</span> <span class="n">void</span>
</pre></div>
</div>
<p>Running as the other user list the files in the <code class="docutils literal notranslate"><span class="pre">shared</span></code> container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">other</span><span class="o">.</span><span class="n">openrc</span>
<span class="n">swift</span> <span class="o">--</span><span class="n">os</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{SURL}</span><span class="s2">&quot;</span> <span class="nb">list</span> <span class="n">shared</span>
</pre></div>
</div>
<p>Running as the other user download the <code class="docutils literal notranslate"><span class="pre">shared</span></code> container in the
<code class="docutils literal notranslate"><span class="pre">/tmp</span></code> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">tmp</span>
<span class="n">swift</span> <span class="o">--</span><span class="n">os</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{SURL}</span><span class="s2">&quot;</span> <span class="n">download</span> <span class="n">shared</span>
</pre></div>
</div>
</section>
</section>
<section id="account-acls">
<span id="id2"></span><h2>Account ACLs<a class="headerlink" href="#account-acls" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Account ACLs are not currently supported by Keystone auth</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">X-Account-Access-Control</span></code> header is used to specify
account-level ACLs in a format specific to the auth system.
These headers are visible and settable only by account owners (those for whom
<code class="docutils literal notranslate"><span class="pre">swift_owner</span></code> is true).
Behavior of account ACLs is auth-system-dependent.  In the case of TempAuth,
if an authenticated user has membership in a group which is listed in the
ACL, then the user is allowed the access level of that ACL.</p>
<p>Account ACLs use the “V2” ACL syntax, which is a JSON dictionary with keys
named “admin”, “read-write”, and “read-only”.  (Note the case sensitivity.)
An example value for the <code class="docutils literal notranslate"><span class="pre">X-Account-Access-Control</span></code> header looks like this,
where <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> are user names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;admin&quot;</span><span class="p">:[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">],</span><span class="s2">&quot;read-only&quot;</span><span class="p">:[</span><span class="s2">&quot;c&quot;</span><span class="p">]}</span>
</pre></div>
</div>
<p>Keys may be absent (as shown in above example).</p>
<p>The recommended way to generate ACL strings is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">swift.common.middleware.acl</span> <span class="kn">import</span> <span class="n">format_acl</span>
<span class="n">acl_data</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;admin&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;alice&#39;</span><span class="p">],</span> <span class="s1">&#39;read-write&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;carol&#39;</span><span class="p">]</span> <span class="p">}</span>
<span class="n">acl_string</span> <span class="o">=</span> <span class="n">format_acl</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">acl_dict</span><span class="o">=</span><span class="n">acl_data</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the <code class="xref py py-func docutils literal notranslate"><span class="pre">format_acl()</span></code> method will ensure
that JSON is encoded as ASCII (using e.g. ‘u1234’ for Unicode).  While
it’s permissible to manually send <code class="docutils literal notranslate"><span class="pre">curl</span></code> commands containing
<code class="docutils literal notranslate"><span class="pre">X-Account-Access-Control</span></code> headers, you should exercise caution when
doing so, due to the potential for human error.</p>
<p>Within the JSON dictionary stored in <code class="docutils literal notranslate"><span class="pre">X-Account-Access-Control</span></code>, the keys
have the following meanings:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Access Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>read-only</p></td>
<td><p>These identities can read <em>everything</em> (except privileged
headers) in the account.  Specifically, a user with read-only
account access can get a list of containers in the account,
list the contents of any container, retrieve any object, and
see the (non-privileged) headers of the account, any
container, or any object.</p></td>
</tr>
<tr class="row-odd"><td><p>read-write</p></td>
<td><p>These identities can read or write (or create) any container.
A user with read-write account access can create new
containers, set any unprivileged container headers, overwrite
objects, delete containers, etc.  A read-write user can NOT
set account headers (or perform any PUT/POST/DELETE requests
on the account).</p></td>
</tr>
<tr class="row-even"><td><p>admin</p></td>
<td><p>These identities have “swift_owner” privileges.  A user with
admin account access can do anything the account owner can,
including setting account headers and any privileged headers
– and thus granting read-only, read-write, or admin access
to other users.</p></td>
</tr>
</tbody>
</table>
<p>For more details, see <a class="reference internal" href="middleware.html#module-swift.common.middleware.tempauth" title="swift.common.middleware.tempauth"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swift.common.middleware.tempauth</span></code></a>.  For details
on the ACL format, see <a class="reference internal" href="misc.html#module-swift.common.middleware.acl" title="swift.common.middleware.acl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swift.common.middleware.acl</span></code></a>.</p>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="overview_auth.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: The Auth System"></i></a>
          
          
            <a href="overview_replication.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Replication"></i></a>
          
          <a id="pdfLink2" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">this page last updated: 2019-09-04 14:30:33</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="https://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="OpenStack Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/id/">Bahasa Indonesia (Indonesian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/it/">Italiano (Italian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/tr_TR/">Türkçe (Türkiye)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Swift 0.1.0.dev10161</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api/object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_architecture.html">Swift Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_ring.html">The Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_policies.html">Storage Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_reaper.html">The Account Reaper</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_auth.html">The Auth System</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Access Control Lists (ACLs)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#container-acls">Container ACLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#container-acl-examples">Container ACL Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#account-acls">Account ACLs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview_replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="ratelimit.html">Rate Limiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_large_objects.html">Large Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_global_cluster.html">Global Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_container_sync.html">Container to Container Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_expiring_objects.html">Expiring Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="cors.html">CORS</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossdomain.html">Cross-domain Policy File</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_erasure_code.html">Erasure Code Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_encryption.html">Object Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_backing_store.html">Using Swift as Backing Store for Service Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_container_sharding.html">Container Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring_background.html">Building a Consistent Hashing Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring_partpower.html">Modifying Ring Partition Power</a></li>
<li class="toctree-l1"><a class="reference internal" href="associated_projects.html">Associated Projects</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html">Contributing to OpenStack Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#swift-design-principles">Swift Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#recommended-workflow">Recommended workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#notes-on-testing">Notes on Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#ideas">Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/review_guidelines.html">Review Guidelines</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development_guidelines.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_saio.html">SAIO (Swift All In One)</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_contribution_swift.html">First Contribution to Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_saio.html">Adding Storage Policies to an Existing SAIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_auth.html">Auth Server and Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_middleware.html">Middleware and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_ondisk_backends.html">Pluggable On-Disk Back-end APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_watchers.html">Auditor Watchers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deployment_guide.html">Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_deployment_guide.html">Apache Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_guide.html">Administrator’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="replication_network.html">Dedicated replication network</a></li>
<li class="toctree-l1"><a class="reference internal" href="logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops_runbook/index.html">Swift Ops Runbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin/index.html">OpenStack Swift Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="install/index.html">Object Storage Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="config/index.html">Configuration Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/discoverability.html">Discoverability</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/container_quotas.html">Container quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/object_versioning.html">Object versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/large_objects.html">Large objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/temporary_url_middleware.html">Temporary URL middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/form_post_middleware.html">Form POST middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/use_content-encoding_metadata.html">Use Content-Encoding metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/use_the_content-disposition_metadata.html">Use the Content-Disposition metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/pseudo-hierarchical-folders-directories.html">Pseudo-hierarchical folders and directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/pagination.html">Page through large lists of containers or objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/serialized-response-formats.html">Serialized response formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/static-website.html">Create static website</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/object-expiration.html">Object expiration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/bulk-delete.html">Bulk delete</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="s3_compat.html">S3/Swift REST API Comparison Matrix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ring.html">Partitioned Consistent Hash Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxy.html">Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="container.html">Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="db.html">Account DB and Container DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="object.html">Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="audit_watchers.html">Object Audit Watchers</a></li>
</ul>

    </div>

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Page Contents</h4>
      <ul>
<li><a class="reference internal" href="#">Access Control Lists (ACLs)</a><ul>
<li><a class="reference internal" href="#container-acls">Container ACLs</a><ul>
<li><a class="reference internal" href="#common-acl-elements">Common ACL Elements</a></li>
<li><a class="reference internal" href="#keystone-auth-acl-elements">Keystone Auth ACL Elements</a></li>
<li><a class="reference internal" href="#tempauth-acl-elements">TempAuth ACL Elements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#container-acl-examples">Container ACL Examples</a><ul>
<li><a class="reference internal" href="#example-public-container">Example: Public Container</a></li>
<li><a class="reference internal" href="#example-shared-writable-container">Example: Shared Writable Container</a></li>
<li><a class="reference internal" href="#example-sharing-a-container-with-project-members">Example: Sharing a Container with Project Members</a></li>
<li><a class="reference internal" href="#example-sharing-a-container-with-users-having-a-specified-role">Example: Sharing a Container with Users having a specified Role</a></li>
<li><a class="reference internal" href="#example-allowing-a-referrer-domain-to-download-objects">Example: Allowing a Referrer Domain to Download Objects</a></li>
<li><a class="reference internal" href="#example-sharing-a-container-with-another-user">Example: Sharing a Container with Another User</a></li>
</ul>
</li>
<li><a class="reference internal" href="#account-acls">Account ACLs</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="https://openstack.org/projects/">Projects</a></li>
          <li><a href="https://www.openstack.org/software/security/">OpenStack Security</a></li>
          <li><a href="https://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="https://openstack.org/blog/">Blog</a></li>g
          <li><a href="https://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="https://openstack.org/community/">User Groups</a></li>
          <li><a href="https://openstack.org/community/events/">Events</a></li>
          <li><a href="https://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="https://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="https://docs.openstack.org/contributors">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="https://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="https://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="https://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="https://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="https://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="https://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="https://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- standard sphinx include libraries, which allow search highlighting -->
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/searchtools.js"></script>
<script type="text/javascript" src="_static/language_data.js"></script>

<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.1.0.dev10161',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      LINK_SUFFIX: '.html',
      SOURCELINK_SUFFIX: '.txt',
      HAS_SOURCE:  true
    };
</script>

<!-- Javascript for page -->
<script language="JavaScript">
  /* Build a description of this page including SHA, source location on git
   * repo, build time and the project's launchpad bug tag. Set the HREF of the
   * bug buttons
   */
    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
    /* "giturl" is the URL of the source file on Git and is auto-generated by
     * openstackdocstheme.
     *
     * "pagename" is a standard sphinx parameter containing the name of
     * the source file, without extension.
     */

    var sourceFile = "overview_acl" + ".rst";
    gitURL = "Source: https://opendev.org/openstack/swift/src/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 97f10284ddd54c8f5f21c6d23d1dbd330a252cfb";
    var repositoryName = "openstack/swift";
    var bugProject = "swift";
    var bugTitle = "Access Control Lists (ACLs) in Swift";
    var fieldTags = "";
    var useStoryboard = "";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1.0.dev10161 on 2019-09-04 14:30:33";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, repositoryName, useStoryboard);
    var currentSourceFile = "overview_acl";
    var pdfFileName = "doc-swift.pdf";
    pdfLink(currentSourceFile, pdfFileName);
</script>


  </body>
</html>