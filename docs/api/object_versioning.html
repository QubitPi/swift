
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Object versioning &#8212; Swift 0.1.0.dev9981 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/basic.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="canonical" href="/swift/api/object_versioning.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Large objects" href="large_objects.html" />
    <link rel="prev" title="Container quotas" href="container_quotas.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">

<!-- Search CSS -->
<link href="../_static/css/search.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/pygments.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>

<!-- SOURCE_FILE: https://opendev.org/openstack/swift/src/doc/source/api/object_versioning.rst -->

<script>
    (function (window, document) {
        var loader = function () {
            var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
            script.src = "https://search.openstack.org/widget/embed.min.js?t="+Date.now();
            tag.parentNode.insertBefore(script, tag);
        };
        window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
    })(window, document);
</script>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</div>
      <ul class="nav navbar-nav navbar-main show">
        <li class="search-container-mobile">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</li>
        <li> <!--Software -->
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/openstack-components">OpenStack Components</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/sdks">SDKs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/deployment-tools">Deployment Tools</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/assets/software/projectmap/openstack-map.pdf" target="_blank">OpenStack Map</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
          </ul>
        </li>
        <li> <!-- Use Cases -->
          <a href="https://www.openstack.org/use-cases/" class="drop" id="dropdownMenuUsers">Use Cases <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/">Users in Production</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/bare-metal/">Ironic Bare Metal</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/edge-computing/">Edge Computing</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/telecoms-and-nfv/">Telecom & NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/science/">Science and HPC</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/containers/">Containers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/enterprise/">Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li> <!-- Events -->
          <a href="https://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">Open Infrastructure Summits</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/ptg/">Project Teams Gathering</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/opendev-2020/">OpenDev</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/community-events/">Community Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/openstackdays">OpenStack & OpenInfra Days</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
          </ul>
        </li>
        <li><!-- Community -->
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/tech-committee">OpenStack Technical Committee</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/coa/">Get Certified (COA)</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketing/">Marketing Resources</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">Community News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/supporting-organizations/">OpenInfra Foundation Supporting Organizations</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">Open Infrastructure Foundation (OpenInfra Foundation)</a></li>
          </ul>
        </li>
        <li><!-- Marketplace -->
          <a href="https://www.openstack.orgmarketplace/" class="drop" id="dropdownMenuLearn">Marketplace <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/distros/">Distros & Appliances</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/public-clouds/">Public Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/hosted-private-clouds/">Hosted Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/remotely-managed-private-clouds/">Remotely Managed Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/consulting/">Consulting & Integrators</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/drivers/">Drivers</a></li>
          </ul>
        </li>
        <li><!-- Blog -->
          <a href="https://www.openstack.org/blog/">Blog</a>
        </li>
        <li><!-- Docs -->
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
        <li> <!-- Join -->
            <li class="join-nav-section">
              <a href="https://openinfra.dev/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
              <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sign up for Foundation Membership</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sponsor the Foundation</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">More about the Foundation</a></li>
              </ul>
            </li>
            <li>
              <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
            </li>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>

    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row docs-title">
  <div class="col-lg-8">
      <h1>Object versioning</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="container_quotas.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Container quotas"></i></a>
    
    
    <a href="large_objects.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Large objects"></i></a>
    
    <a id="pdfLink1" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-body" role="main">

  <section id="object-versioning">
<h1>Object versioning<a class="headerlink" href="#object-versioning" title="Permalink to this heading">¶</a></h1>
<p>You can store multiple versions of your content so that you can recover
from unintended overwrites. Object versioning is an easy way to
implement version control, which you can use with any type of content.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot version a large-object manifest file, but the large-object
manifest file can point to versioned segments.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is strongly recommended that you put non-current objects in a
different container than the container where current object versions
reside.</p>
</div>
<p>To allow object versioning within a cluster, the cloud provider should add the
<code class="docutils literal notranslate"><span class="pre">versioned_writes</span></code> filter to the pipeline and set the
<code class="docutils literal notranslate"><span class="pre">allow_versioned_writes</span></code> option to <code class="docutils literal notranslate"><span class="pre">true</span></code> in the
<code class="docutils literal notranslate"><span class="pre">[filter:versioned_writes]</span></code> section of the proxy-server configuration file.</p>
<p>To enable object versioning for a container, you must specify an “archive
container” that will retain non-current versions via either the
<code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code> or <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code> header. These two headers
enable two distinct modes of operation. Either mode may be used within a
cluster, but only one mode may be active for any given container. You must
UTF-8-encode and then URL-encode the container name before you include it in
the header.</p>
<p>For both modes, <strong>PUT</strong> requests will archive any pre-existing objects before
writing new data, and <strong>GET</strong> requests will serve the current version. <strong>COPY</strong>
requests behave like a <strong>GET</strong> followed by a <strong>PUT</strong>; that is, if the copy
<em>source</em> is in a versioned container then the current version will be copied,
and if the copy <em>destination</em> is in a versioned container then any pre-existing
object will be archived before writing new data.</p>
<p>If object versioning was enabled using <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code>, then object
<strong>DELETE</strong> requests will copy the current version to the archive container then
remove it from the versioned container.</p>
<p>If object versioning was enabled using <code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code>, then object
<strong>DELETE</strong> requests will restore the most-recent version from the archive
container, overwriting the current version.</p>
<section id="example-using-x-versions-location">
<h2>Example Using <code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code><a class="headerlink" href="#example-using-x-versions-location" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span> -H <span class="s2">&quot;X-Versions-Location: archive&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Content-Length: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: txb91810fb717347d09eec8-0052e18997</span>
<span class="go">X-Openstack-Request-Id: txb91810fb717347d09eec8-0052e18997</span>
<span class="go">Date: Thu, 23 Jan 2014 21:28:55 GMT</span>
</pre></div>
</div>
</li>
<li><p>Create the first version of an object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object --data-binary <span class="m">1</span> -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Last-Modified: Thu, 23 Jan 2014 21:31:22 GMT</span>
<span class="go">Content-Length: 0</span>
<span class="go">Etag: d41d8cd98f00b204e9800998ecf8427e</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx5992d536a4bd4fec973aa-0052e18a2a</span>
<span class="go">X-Openstack-Request-Id: tx5992d536a4bd4fec973aa-0052e18a2a</span>
<span class="go">Date: Thu, 23 Jan 2014 21:31:22 GMT</span>
</pre></div>
</div>
<p>Nothing is written to the non-current version container when you
initially <strong>PUT</strong> an object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container. However,
subsequent <strong>PUT</strong> requests that edit an object trigger the creation
of a version of that object in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container.</p>
<p>These non-current versions are named as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;length&gt;&lt;object_name&gt;/&lt;timestamp&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">length</span></code> is the 3-character, zero-padded hexadecimal
character length of the object, <code class="docutils literal notranslate"><span class="pre">&lt;object_name&gt;</span></code> is the object name,
and <code class="docutils literal notranslate"><span class="pre">&lt;timestamp&gt;</span></code> is the time when the object was initially created
as a current version.</p>
</li>
<li><p>Create a second version of the object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object --data-binary <span class="m">2</span> -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Last-Modified: Thu, 23 Jan 2014 21:41:32 GMT</span>
<span class="go">Content-Length: 0</span>
<span class="go">Etag: d41d8cd98f00b204e9800998ecf8427e</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx468287ce4fc94eada96ec-0052e18c8c</span>
<span class="go">X-Openstack-Request-Id: tx468287ce4fc94eada96ec-0052e18c8c</span>
<span class="go">Date: Thu, 23 Jan 2014 21:41:32 GMT</span>
</pre></div>
</div>
</li>
<li><p>Issue a <strong>GET</strong> request to a versioned object to get the current
version of the object. You do not have to do any request redirects or
metadata lookups.</p>
<p>List older versions of the object in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/archive?prefix<span class="o">=</span>009my_object -X GET -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 200 OK</span>
<span class="go">Content-Length: 30</span>
<span class="go">X-Container-Object-Count: 1</span>
<span class="go">Accept-Ranges: bytes</span>
<span class="go">X-Timestamp: 1390513280.79684</span>
<span class="go">X-Container-Bytes-Used: 0</span>
<span class="go">Content-Type: text/plain; charset=utf-8</span>
<span class="go">X-Trans-Id: tx9a441884997542d3a5868-0052e18d8e</span>
<span class="go">X-Openstack-Request-Id: tx9a441884997542d3a5868-0052e18d8e</span>
<span class="go">Date: Thu, 23 Jan 2014 21:45:50 GMT</span>

<span class="go">009my_object/1390512682.92052</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <strong>POST</strong> request to a versioned object updates only the metadata
for the object and does not create a new version of the object. New
versions are created only when the content of the object changes.</p>
</div>
</li>
<li><p>Issue a <strong>DELETE</strong> request to a versioned object to remove the
current version of the object and replace it with the next-most
current version in the non-current container.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object -X DELETE -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 204 No Content</span>
<span class="go">Content-Length: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx006d944e02494e229b8ee-0052e18edd</span>
<span class="go">X-Openstack-Request-Id: tx006d944e02494e229b8ee-0052e18edd</span>
<span class="go">Date: Thu, 23 Jan 2014 21:51:25 GMT</span>
</pre></div>
</div>
<p>List objects in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container to show that the archived
object was moved back to the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/archive?prefix<span class="o">=</span>009my_object -X GET -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 204 No Content</span>
<span class="go">Content-Length: 0</span>
<span class="go">X-Container-Object-Count: 0</span>
<span class="go">Accept-Ranges: bytes</span>
<span class="go">X-Timestamp: 1390513280.79684</span>
<span class="go">X-Container-Bytes-Used: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx044f2a05f56f4997af737-0052e18eed</span>
<span class="go">X-Openstack-Request-Id: tx044f2a05f56f4997af737-0052e18eed</span>
<span class="go">Date: Thu, 23 Jan 2014 21:51:41 GMT</span>
</pre></div>
</div>
<p>This next-most current version carries with it any metadata last set
on it. If want to completely remove an object and you have five
versions of it, you must <strong>DELETE</strong> it five times.</p>
</li>
</ol>
</section>
<section id="example-using-x-history-location">
<h2>Example Using <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code><a class="headerlink" href="#example-using-x-history-location" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span> -H <span class="s2">&quot;X-History-Location: archive&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Content-Length: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: txb91810fb717347d09eec8-0052e18997</span>
<span class="go">X-Openstack-Request-Id: txb91810fb717347d09eec8-0052e18997</span>
<span class="go">Date: Thu, 23 Jan 2014 21:28:55 GMT</span>
</pre></div>
</div>
</li>
<li><p>Create the first version of an object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object --data-binary <span class="m">1</span> -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Last-Modified: Thu, 23 Jan 2014 21:31:22 GMT</span>
<span class="go">Content-Length: 0</span>
<span class="go">Etag: d41d8cd98f00b204e9800998ecf8427e</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx5992d536a4bd4fec973aa-0052e18a2a</span>
<span class="go">X-Openstack-Request-Id: tx5992d536a4bd4fec973aa-0052e18a2a</span>
<span class="go">Date: Thu, 23 Jan 2014 21:31:22 GMT</span>
</pre></div>
</div>
<p>Nothing is written to the non-current version container when you
initially <strong>PUT</strong> an object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container. However,
subsequent <strong>PUT</strong> requests that edit an object trigger the creation
of a version of that object in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container.</p>
<p>These non-current versions are named as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;length&gt;&lt;object_name&gt;/&lt;timestamp&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">length</span></code> is the 3-character, zero-padded hexadecimal
character length of the object, <code class="docutils literal notranslate"><span class="pre">&lt;object_name&gt;</span></code> is the object name,
and <code class="docutils literal notranslate"><span class="pre">&lt;timestamp&gt;</span></code> is the time when the object was initially created
as a current version.</p>
</li>
<li><p>Create a second version of the object in the <code class="docutils literal notranslate"><span class="pre">current</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object --data-binary <span class="m">2</span> -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 201 Created</span>
<span class="go">Last-Modified: Thu, 23 Jan 2014 21:41:32 GMT</span>
<span class="go">Content-Length: 0</span>
<span class="go">Etag: d41d8cd98f00b204e9800998ecf8427e</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx468287ce4fc94eada96ec-0052e18c8c</span>
<span class="go">X-Openstack-Request-Id: tx468287ce4fc94eada96ec-0052e18c8c</span>
<span class="go">Date: Thu, 23 Jan 2014 21:41:32 GMT</span>
</pre></div>
</div>
</li>
<li><p>Issue a <strong>GET</strong> request to a versioned object to get the current
version of the object. You do not have to do any request redirects or
metadata lookups.</p>
<p>List older versions of the object in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/archive?prefix<span class="o">=</span>009my_object -X GET -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 200 OK</span>
<span class="go">Content-Length: 30</span>
<span class="go">X-Container-Object-Count: 1</span>
<span class="go">Accept-Ranges: bytes</span>
<span class="go">X-Timestamp: 1390513280.79684</span>
<span class="go">X-Container-Bytes-Used: 0</span>
<span class="go">Content-Type: text/plain; charset=utf-8</span>
<span class="go">X-Trans-Id: tx9a441884997542d3a5868-0052e18d8e</span>
<span class="go">X-Openstack-Request-Id: tx9a441884997542d3a5868-0052e18d8e</span>
<span class="go">Date: Thu, 23 Jan 2014 21:45:50 GMT</span>

<span class="go">009my_object/1390512682.92052</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <strong>POST</strong> request to a versioned object updates only the metadata
for the object and does not create a new version of the object. New
versions are created only when the content of the object changes.</p>
</div>
</li>
<li><p>Issue a <strong>DELETE</strong> request to a versioned object to copy the
current version of the object to the archive container then delete it from
the current container. Subsequent <strong>GET</strong> requests to the object in the
current container will return <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current/my_object -X DELETE -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 204 No Content</span>
<span class="go">Content-Length: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx006d944e02494e229b8ee-0052e18edd</span>
<span class="go">X-Openstack-Request-Id: tx006d944e02494e229b8ee-0052e18edd</span>
<span class="go">Date: Thu, 23 Jan 2014 21:51:25 GMT</span>
</pre></div>
</div>
<p>List older versions of the object in the <code class="docutils literal notranslate"><span class="pre">archive</span></code> container:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/archive?prefix<span class="o">=</span>009my_object -X GET -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 200 OK</span>
<span class="go">Content-Length: 90</span>
<span class="go">X-Container-Object-Count: 3</span>
<span class="go">Accept-Ranges: bytes</span>
<span class="go">X-Timestamp: 1390513280.79684</span>
<span class="go">X-Container-Bytes-Used: 0</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: tx044f2a05f56f4997af737-0052e18eed</span>
<span class="go">X-Openstack-Request-Id: tx044f2a05f56f4997af737-0052e18eed</span>
<span class="go">Date: Thu, 23 Jan 2014 21:51:41 GMT</span>

<span class="go">009my_object/1390512682.92052</span>
<span class="go">009my_object/1390512692.23062</span>
<span class="go">009my_object/1390513885.67732</span>
</pre></div>
</div>
<p>In addition to the two previous versions of the object, the archive
container has a “delete marker” to record when the object was deleted.</p>
<p>To permanently delete a previous version, issue a <strong>DELETE</strong> to the version
in the archive container.</p>
</li>
</ol>
</section>
<section id="disabling-object-versioning">
<h2>Disabling Object Versioning<a class="headerlink" href="#disabling-object-versioning" title="Permalink to this heading">¶</a></h2>
<p>To disable object versioning for the <code class="docutils literal notranslate"><span class="pre">current</span></code> container, remove
its <code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code> metadata header by sending an empty key
value.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>curl -i <span class="nv">$publicURL</span>/current -X PUT -H <span class="s2">&quot;Content-Length: 0&quot;</span> -H <span class="s2">&quot;X-Auth-Token: </span><span class="nv">$token</span><span class="s2">&quot;</span> -H <span class="s2">&quot;X-Versions-Location: &quot;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HTTP/1.1 202 Accepted</span>
<span class="go">Content-Length: 76</span>
<span class="go">Content-Type: text/html; charset=UTF-8</span>
<span class="go">X-Trans-Id: txe2476de217134549996d0-0052e19038</span>
<span class="go">X-Openstack-Request-Id: txe2476de217134549996d0-0052e19038</span>
<span class="go">Date: Thu, 23 Jan 2014 21:57:12 GMT</span>

<span class="go">&lt;html&gt;&lt;h1&gt;Accepted&lt;/h1&gt;&lt;p&gt;The request is accepted for processing.&lt;/p&gt;&lt;/html&gt;</span>
</pre></div>
</div>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="container_quotas.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Container quotas"></i></a>
          
          
            <a href="large_objects.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Large objects"></i></a>
          
          <a id="pdfLink2" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">this page last updated: 2022-08-02 11:51:24</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="https://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="OpenStack Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/id/">Bahasa Indonesia (Indonesian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/it/">Italiano (Italian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/tr_TR/">Türkçe (Türkiye)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../index.html" class="docs-sidebar-section-title"><h4>Swift 0.1.0.dev9981</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_architecture.html">Swift Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_ring.html">The Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_policies.html">Storage Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_reaper.html">The Account Reaper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_auth.html">The Auth System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_acl.html">Access Control Lists (ACLs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ratelimit.html">Rate Limiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_large_objects.html">Large Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_global_cluster.html">Global Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_container_sync.html">Container to Container Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_expiring_objects.html">Expiring Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cors.html">CORS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crossdomain.html">Cross-domain Policy File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_erasure_code.html">Erasure Code Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_encryption.html">Object Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_backing_store.html">Using Swift as Backing Store for Service Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview_container_sharding.html">Container Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ring_background.html">Building a Consistent Hashing Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ring_partpower.html">Modifying Ring Partition Power</a></li>
<li class="toctree-l1"><a class="reference internal" href="../associated_projects.html">Associated Projects</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html">Contributing to OpenStack Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html#swift-design-principles">Swift Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html#recommended-workflow">Recommended workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html#notes-on-testing">Notes on Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html#ideas">Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/contributing.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/review_guidelines.html">Review Guidelines</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development_guidelines.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_saio.html">SAIO (Swift All In One)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first_contribution_swift.html">First Contribution to Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../policies_saio.html">Adding Storage Policies to an Existing SAIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_auth.html">Auth Server and Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_middleware.html">Middleware and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_ondisk_backends.html">Pluggable On-Disk Back-end APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_watchers.html">Auditor Watchers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto_installmultinode.html">Instructions for a Multiple Server Swift Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_guide.html">Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apache_deployment_guide.html">Apache Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin_guide.html">Administrator’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../replication_network.html">Dedicated replication network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ops_runbook/index.html">Swift Ops Runbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">OpenStack Swift Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Object Storage Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration Documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="discoverability.html">Discoverability</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="container_quotas.html">Container quotas</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Object versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-using-x-versions-location">Example Using <code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-using-x-history-location">Example Using <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#disabling-object-versioning">Disabling Object Versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="large_objects.html">Large objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="temporary_url_middleware.html">Temporary URL middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="form_post_middleware.html">Form POST middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_content-encoding_metadata.html">Use Content-Encoding metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_the_content-disposition_metadata.html">Use the Content-Disposition metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="pseudo-hierarchical-folders-directories.html">Pseudo-hierarchical folders and directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="pagination.html">Page through large lists of containers or objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialized-response-formats.html">Serialized response formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-website.html">Create static website</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-expiration.html">Object expiration</a></li>
<li class="toctree-l1"><a class="reference internal" href="bulk-delete.html">Bulk delete</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../s3_compat.html">S3/Swift REST API Comparison Matrix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ring.html">Partitioned Consistent Hash Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proxy.html">Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container.html">Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../db.html">Account DB and Container DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object.html">Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc.html">Misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../audit_watchers.html">Object Audit Watchers</a></li>
</ul>

    </div>

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Page Contents</h4>
      <ul>
<li><a class="reference internal" href="#">Object versioning</a><ul>
<li><a class="reference internal" href="#example-using-x-versions-location">Example Using <code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code></a></li>
<li><a class="reference internal" href="#example-using-x-history-location">Example Using <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code></a></li>
<li><a class="reference internal" href="#disabling-object-versioning">Disabling Object Versioning</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="https://openstack.org/projects/">Projects</a></li>
          <li><a href="https://www.openstack.org/software/security/">OpenStack Security</a></li>
          <li><a href="https://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="https://openstack.org/blog/">Blog</a></li>g
          <li><a href="https://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="https://openstack.org/community/">User Groups</a></li>
          <li><a href="https://openstack.org/community/events/">Events</a></li>
          <li><a href="https://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="https://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="https://docs.openstack.org/contributors">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="https://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="https://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="https://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="https://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="https://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="https://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="https://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- standard sphinx include libraries, which allow search highlighting -->
<script type="text/javascript" src="../_static/underscore.js"></script>
<script type="text/javascript" src="../_static/doctools.js"></script>
<script type="text/javascript" src="../_static/searchtools.js"></script>
<script type="text/javascript" src="../_static/language_data.js"></script>

<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.1.0.dev9981',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      LINK_SUFFIX: '.html',
      SOURCELINK_SUFFIX: '.txt',
      HAS_SOURCE:  true
    };
</script>

<!-- Javascript for page -->
<script language="JavaScript">
  /* Build a description of this page including SHA, source location on git
   * repo, build time and the project's launchpad bug tag. Set the HREF of the
   * bug buttons
   */
    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
    /* "giturl" is the URL of the source file on Git and is auto-generated by
     * openstackdocstheme.
     *
     * "pagename" is a standard sphinx parameter containing the name of
     * the source file, without extension.
     */

    var sourceFile = "api/object_versioning" + ".rst";
    gitURL = "Source: https://opendev.org/openstack/swift/src/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: ea4de2b777b1c6829ec514b1c989e1c2934e6483";
    var repositoryName = "openstack/swift";
    var bugProject = "swift";
    var bugTitle = "Object versioning in Swift";
    var fieldTags = "";
    var useStoryboard = "";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1.0.dev9981 on 2022-08-02 11:51:24";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, repositoryName, useStoryboard);
    var currentSourceFile = "api/object_versioning";
    var pdfFileName = "doc-swift.pdf";
    pdfLink(currentSourceFile, pdfFileName);
</script>


  </body>
</html>